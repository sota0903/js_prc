<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>d3_05</title>
</head>
<body>
  <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <script>

  d3.text('data/race_hit_count.csv', function (error, text) {
    var data = d3.csv.parseRows(text);
    console.log(data);
  });

  d3.csv('./data/max_odds.csv', function (d) {
    return [d.id, d.name, d.value].join(':');
  }, function (error, data) {
    console.log(data);
  });



  console.log(d3.csv.format([
    {id: 1, name: 'foo'},
    {id: 2, name: 'bar'}
  ]));

  var dataset = [];
  for (var i = 0; i < 30; i++) {
    var newNumber = Math.random() * 30;
    // dataset.push(newNumber);
    dataset.push(newNumber);
  }

  console.log(dataset);

  var svg = d3.select('body').append('svg');
  svg
    .attr({
      width: 600,
      height: 600
    })
    .selectAll('rect')
    .data(dataset)
    .enter()
    .append('rect')
    .attr('x', function(d, i) { return ( i * 24 ) + 'px'})
    .attr('y', 0)
    .attr({
      'height': function (d) { return (d * 10) + 'px'},
      'width': 20,
      'style': 'fill: rgba(0,0,0, .5)'
    });



  </script>

</body>
</html>
